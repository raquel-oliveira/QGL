package fr.unice.polytech.qgl.qab.actions.ground;

import fr.unice.polytech.qgl.qab.actions.Action;
//import fr.unice.polytech.qgl.qab.util.enums.PrimaryResources;
import fr.unice.polytech.qgl.qab.resources.Resource;
import org.json.JSONArray;
import org.json.JSONObject;

import java.util.List;

/**
 * @version 17/01/2016.
 */
public class Exploit extends Action {
    private List<Resource> resources;

    public Exploit(List<Resource> resources){
        super();
        this.resources = resources;
    }

    // TODO
    @Override
    public boolean isValid(JSONObject jsonObject){
        return true;
    }

    @Override
    public String formatResponse(){
        JSONObject obj = new JSONObject();
        obj.put("action", "exploit");
        JSONArray list = new JSONArray();
        for (Resource resource: resources) {
            list.put(resource.getName());
        }
        obj.put("parameters", list);

        return obj.toString();
    }
}